# DNS 测速与设置工具 使用说明

**版本：** 1.0.0  
**日期：** 2025-05-08  
**作者：** xihan123

## 目录

1. [项目介绍](#1-项目介绍)
2. [功能特点](#2-功能特点)
3. [使用指南](#3-使用指南)
    - [3.1 界面概览](#31-界面概览)
    - [3.2 测试DNS速度](#32-测试dns速度)
    - [3.3 设置DNS服务器](#33-设置dns服务器)
    - [3.4 添加自定义测试域名](#34-添加自定义测试域名)
    - [3.5 添加自定义DNS服务器](#35-添加自定义dns服务器)

## 1. 项目介绍

DNS测速与设置工具是一款专为网络优化设计的实用工具，可以帮助用户测试各个公共DNS服务器的响应速度，并轻松设置系统DNS服务器。通过使用本工具，您可以找到最适合自己网络环境的DNS服务器，从而提高网页加载速度和整体上网体验。

## 2. 功能特点

- **多DNS服务器测速**：内置多个国内外公共DNS服务器，可一键测试延迟
- **真实用户体验测速**：使用优化的测速算法，更符合实际上网体验
- **自定义测试域名**：支持添加自己常用的网站域名作为测试目标
- **一键设置DNS**：轻松将系统DNS设置为测试结果中表现最好的服务器
- **自定义DNS服务器**：可以添加自己的DNS服务器进行测试和设置
- **网络适配器管理**：支持多网卡环境，可以为不同网卡设置不同DNS
- **现代化界面**：美观易用的Material Design界面设计

## 3. 使用指南

### 3.1 界面概览

程序界面主要分为以下几个部分：

- 顶部：网络适配器选择及DNS设置操作区
- 中部：测试域名选择及测试控制区
- 中下部：DNS服务器列表显示区
- 底部：添加自定义测试域名和DNS服务器区

### 3.2 测试DNS速度

1. 在顶部下拉菜单中选择要测试的网络适配器
2. 在中部下拉菜单中选择测试域名（或使用默认域名）
3. 点击"开始测速"按钮
4. 等待测试完成，DNS服务器列表会按延迟从低到高排序
5. 最快的DNS服务器将自动被选中

**测试结果说明**：

- 延迟值越低，表示DNS响应越快
- "成功"状态表示测试正常完成
- "超时"状态表示DNS服务器响应超时
- "错误"状态表示测试过程中发生错误

### 3.3 设置DNS服务器

1. 在DNS服务器列表中选择您想要设置的DNS服务器
2. 确认已在顶部选择正确的网络适配器
3. 点击"设置所选DNS"按钮
4. 系统会请求管理员权限（如果尚未获取）
5. 设置成功后，底部状态栏会显示确认信息

**恢复自动获取DNS**：

- 如需恢复为自动获取DNS，请点击"恢复DHCP"按钮

### 3.4 添加自定义测试域名

1. 在底部的"域名名称"文本框中输入自定义域名的描述（如"我的网站"）
2. 在"域名"文本框中输入完整域名（如"www.example.com"）
3. 点击"添加测试域名"按钮
4. 添加成功后，该域名会出现在测试域名下拉列表中，标记为"自定义"类别

**随机域名**：

- 工具提供"随机域名"选项，用于绕过缓存进行更准确的测速
- 点击随机域名旁的刷新按钮可生成新的随机域名

### 3.5 添加自定义DNS服务器

1. 在底部的"DNS名称"文本框中输入DNS服务器名称（如"我的DNS"）
2. 在"主DNS地址"文本框中输入主DNS服务器IP地址（如"8.8.8.8"）
3. 在"备用DNS地址"文本框中输入备用DNS服务器IP地址（可选）
4. 点击"添加DNS"按钮
5. 添加成功后，新DNS服务器会出现在列表中，标记为自定义服务器

## 4. 常见问题解答

### Q: 为什么程序需要管理员权限？

**A:** 修改系统DNS设置需要管理员权限。这是Windows系统的安全限制，用于保护网络设置不被未授权程序更改。

### Q: 无法获取网络适配器怎么办？

**A:**

1. 确保以管理员身份运行程序
2. 点击"诊断"按钮查看详细错误信息
3. 检查WMI服务是否正常运行（可通过服务管理器检查）
4. 重启计算机后再次尝试

### Q: 为什么测试结果显示所有DNS服务器延迟都很低？

**A:**

1. 首次测试时可能会利用系统DNS缓存，导致结果异常低
2. 尝试使用"随机域名"选项进行测试，或点击刷新按钮更新随机域名
3. 多次测试以获取更准确的结果

### Q: 如何判断哪个DNS服务器最适合我？

**A:**

1. 延迟低的DNS服务器通常更快
2. 但也要考虑DNS服务器的稳定性和安全性
3. 建议选择知名公司提供的DNS服务器
4. 国内用户可优先考虑国内DNS服务器（如阿里DNS、114DNS等）

### Q: 设置DNS后没有生效怎么办？

**A:**

1. 确保设置成功（底部状态栏会显示确认信息）
2. 打开命令提示符，运行`ipconfig /flushdns`清除DNS缓存
3. 重启网络适配器或重新连接网络
4. 通过`ipconfig /all`命令确认DNS设置是否已更改

---
